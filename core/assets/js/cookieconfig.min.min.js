"use strict";function complianz_deleteAllCookies(){document.cookie.split(";").forEach(function(e){-1===e.indexOf("cmplz_stats")&&-1===e.indexOf("cmplz_")&&-1===e.indexOf("complianz_consent_status")&&-1===e.indexOf("complianz_policy_id")&&(document.cookie=e.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))})}jQuery(document).ready(function(i){var o,t,n=!1,c=!1,a="";function l(){if(n||s(),!c){i(".cmplz-blocked-content-notice").each(function(){i(this).parent().css("background-image",""),i(this).remove()}),i(".cmplz-iframe").each(function(e,c){var o=i(this).data("src-cmplz");i(this).attr("src",o)}),i(".cmplz-img").each(function(e,c){var o=i(this).data("src-cmplz");i(this).attr("src",o)}),i(".cmplz-script").each(function(e,c){var o=i(this).attr("src");if(o&&o.length)if(void 0!==i(this).data("post_scribe_id")){var t="#"+i(this).data("post_scribe_id");i(t).length&&(i(t).html(""),i(function(){postscribe(t,"<script src="+o+"><\/script>")}))}else i(this).attr("type","text/javascript"),i.getScript(o,function(){});else i(this).text().length&&(i("<script>").attr("type","text/javascript").text(i(this).text()).appendTo(i(this).parent()),i(this).remove())});var e=new CustomEvent("cmplzEnableScripts");document.dispatchEvent(e),c=!0}}function s(){console.log("fire stats"),i(".cmplz-stats").each(function(e,c){if(i(this).text().length){var o=i(this).text();i("<script>").attr("type","text/javascript").text(o).appendTo(i(this).parent()),i(this).remove()}n=!0});var e=new CustomEvent("cmplzEnableStats");document.dispatchEvent(e)}function p(e){console.log("fire "+e),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e})}var r=[];function m(){var e;complianz=function(e,c){for(var o=1;o<c.length;o++){var t=c;for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e}(complianz,r),(e=k("complianz_policy_id"))&&complianz.current_policy_id!=e&&f("complianz_consent_status","",0),r.do_not_track||"eu"!==r.region&&"us"!==r.region?z("no-warning"):"set"!==k("cmplz_choice")&&z("no-choice"),r.do_not_track||("eu"===r.region?(console.log("eu, opt-in"),_()):"us"===r.region?(console.log("us, opt-out"),complianz.type="opt-out",complianz.layout="basic",complianz.readmore_url=complianz.readmore_url_us,complianz.readmore=complianz.readmore_us,complianz.dismiss=complianz.accept_informational,a=complianz.privacy_link,_()):(console.log("other region, no cookie warning"),u()))}function _(){complianz.use_custom_cookie_css&&i("<style>").prop("type","text/css").html(complianz.custom_css).appendTo("head"),window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry},onInitialise:function(e){"allow"===(o=e)&&u()},onStatusChange:function(e,c){o=e,complianz.use_categories||z(),"allow"===e&&u(),"deny"===e&&"us"===r.region&&(complianz_deleteAllCookies(),z())},onRevokeChoice:function(){complianz.use_categories||"allow"!==o||(complianz_deleteAllCookies(),z())},revokeBtn:'<div class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</div>",palette:{popup:{background:complianz.popup_background_color,text:complianz.popup_text_color},button:{background:complianz.button_background_color,text:complianz.button_text_color,border:complianz.border_color}},theme:complianz.theme,static:complianz.static,position:complianz.position,type:complianz.type,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}",compliance:"{{messagelink}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',"categories-checkboxes":complianz.categories,messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="{{href}}">{{link}}</a>'+a+"</span>"},content:{save_preferences:complianz.save_preferences,deny:"",message:complianz.message,dismiss:complianz.dismiss,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url}},function(e){if(t=e,"us"!==r.region&&complianz.use_categories){if(v(),complianz.tm_categories)for(var c=0;c<complianz.cat_num;c++)i("#cmplz_"+c+":checked + .cc-check svg").css({stroke:complianz.popup_text_color});i("#cmplz_functional:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),i("#cmplz_all:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),i(".cc-save").css({"border-color":complianz.border_color,"background-color":complianz.button_background_color,color:complianz.button_text_color}),i(".cc-check svg").css({stroke:complianz.popup_text_color}),h()}"us"===r.region&&"deny"!==k("complianz_consent_status")&&u()})}function u(){y(),complianz.use_categories?h(!0):(complianz_enable_cookies(),l())}function e(){if(t.setStatus("dismiss"),complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)i("#cmplz_"+e).is(":checked")?f("cmplz_event_"+e,"allow",complianz.cookie_expiry):f("cmplz_event_"+e,"deny",complianz.cookie_expiry);i("#cmplz_stats").length&&(i("#cmplz_stats").is(":checked")?f("cmplz_stats","allow",complianz.cookie_expiry):f("cmplz_stats","deny",complianz.cookie_expiry)),i("#cmplz_all").length&&(i("#cmplz_all").is(":checked")?f("cmplz_all","allow",complianz.cookie_expiry):f("cmplz_all","deny",complianz.cookie_expiry)),h(),z(),"no-choice"===g()||"functional"===g()?complianz_deleteAllCookies():y(),t.close(),i(".cc-revoke").fadeIn()}function z(e){e=void 0!==e&&e,f("cmplz_choice","set",complianz.cookie_expiry),e||(e=g()),i.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_track_status",status:e,region:r.region}})}function d(){if(i(".cc-revoke-custom").length&&"us"===r.region){var e=i("#cmplz-document").find(".cmplz-status-accepted"),c=i("#cmplz-document").find(".cmplz-status-denied");"deny"===k("complianz_consent_status")?(e.hide(),c.show()):(e.show(),c.hide())}}function f(e,c,o){if(o){var t=new Date;t.setTime(t.getTime()+24*o*60*60*1e3);var i="; expires="+t.toGMTString()}else i="";document.cookie=e+"="+c+i+"; path=/"}function k(e){for(var c=e+"=",o=window.document.cookie.split(";"),t=0;t<o.length;t++){var i=o[t].trim();if(0==i.indexOf(c))return i.substring(c.length,i.length)}return""}function g(){var e=k("complianz_consent_status");if(complianz.use_categories){if("allow"===k("cmplz_all"))return"all";if(complianz.tm_categories)for(var c=complianz.cat_num-1;0<=c;c--)if("allow"===k("cmplz_event_"+c))return"cmplz_event_"+c;if("allow"===k("cmplz_stats"))return"stats"}else if("allow"===e||"dismiss"===e&&"us"===r.region)return"all";return"dismiss"===e?"functional":"no-choice"}function h(e){if(e=void 0!==e&&e,complianz.tm_categories&&p("cmplz_event_functional"),complianz.tm_categories)for(var c=0;c<complianz.cat_num;c++)(e||i("#cmplz_"+c).is(":checked"))&&p("cmplz_event_"+c);(e||i("#cmplz_stats").length&&i("#cmplz_stats").is(":checked"))&&s(),(e||i("#cmplz_all").length&&i("#cmplz_all").is(":checked"))&&(complianz.tm_categories&&p("cmplz_event_all"),complianz_enable_cookies(),l())}function v(){if(complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)"allow"===k("cmplz_event_"+e)&&i("#cmplz_"+e).prop("checked",!0);"allow"===k("cmplz_all")&&i("#cmplz_all").prop("checked",!0),"allow"===k("cmplz_stats")&&i("#cmplz_stats").prop("checked",!0)}function y(){f("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}"undefined"!=typeof Storage&&sessionStorage.cmplz_user_data&&(r=JSON.parse(sessionStorage.cmplz_user_data)),0===r.length||r.version!==complianz.version?i.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_user_settings"},success:function(e){r=e,sessionStorage.cmplz_user_data=JSON.stringify(r),m()}}):m(),i(document).on("click",".cc-save",function(){e()}),i(document).on("click",".cc-revoke-custom",function(){"eu"===r.region?i(".cc-revoke").click():("deny"===k("complianz_consent_status")?i(".cc-revoke").click():(f("complianz_consent_status","deny",complianz.cookie_expiry),t.close(),i(".cc-revoke").fadeIn()),d())}),i(document).on("click",".cmplz-accept-cookies",function(){complianz.use_categories?(f("cmplz_all","allow",complianz.cookie_expiry),v(),e()):(t.setStatus(cookieconsent.status.allow),u(),t.close(),i(".cc-revoke").fadeIn())}),d()});