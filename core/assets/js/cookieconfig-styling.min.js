jQuery(document).ready(function(f){var b;f(".cmplz-color-picker").wpColorPicker({change:function(h,j){var k=f(h.target).data("hidden-input");f("#"+k).val(j.color.toString());d()}});var e=ccConsentType;if(ccConsentType==="optinstats"){e="optin"}f(document).on("keyup","input[name=cmplz_dismiss]",function(){f(".cc-dismiss").html(f(this).val())});f(document).on("keyup","input[name=cmplz_accept]",function(){f(".cc-allow").html(f(this).val())});f(document).on("keyup","input[name=cmplz_accept_optinstats]",function(){f(".cc-allow").html(f(this).val())});f(document).on("keyup","input[name=cmplz_accept_informational]",function(){f(".cc-dismiss").html(f(this).val())});f(document).on("keyup","input[name=cmplz_revoke]",function(){f(".cc-revoke").html(f(this).val())});f(document).on("keyup","input[name=cmplz_readmore_privacy]",function(){f(".cc-link.privacy-policy").html(f(this).val())});f(document).on("keyup","input[name=cmplz_view_preferences]",function(){f(".cc-revoke").html(f(this).val())});f(document).on("keyup","input[name=cmplz_save_preferences]",function(){f(".cc-save").html(f(this).val())});f(document).on("keyup","input[name=cmplz_category_functional]",function(){f(".cc-functional").html(f(this).val())});f(document).on("keyup","input[name=cmplz_category_stats]",function(){f("input[name=cmplz_category_stats]").val(f(this).val());f(".cc-stats").html(f(this).val())});f(document).on("keyup","input[name=cmplz_category_all]",function(){f("input[name=cmplz_category_all]").val(f(this).val());f(".cc-all").html(f(this).val())});f(document).on("keyup","input[name=cmplz_readmore_optin]",function(){f(".cc-link.cookie-policy").html(f(this).val())});f(document).on("keyup","input[name=cmplz_readmore_optinstats]",function(){f(".cc-link.cookie-policy").html(f(this).val())});f(document).on("keyup","input[name=cmplz_readmore_optout]",function(){f(".cc-link.cookie-policy").html(f(this).val())});f(document).on("keyup","input[name=cmplz_readmore_optout_dnsmpi]",function(){f(".cc-link.cookie-policy").html(f(this).val())});f(document).on("keyup","textarea[name=cmplz_tagmanager_categories]",function(){f("input[name=cmplz_save_tagmanager_categories]").val(f(this).val());d()});setTimeout(function(){for(var h=0;h<tinymce.editors.length;h++){tinymce.editors[h].on("NodeChange keyup",function(j,m){var l;var k=f(".cc-message").find("a").html();var n="cmplz_message_"+e;console.log(n);var o="cmplz_message";if(typeof n=="undefined"){n=wpActiveEditor}if(typeof o=="undefined"){o=n}if(jQuery("#wp-"+n+"-wrap").hasClass("tmce-active")&&tinyMCE.get(n)){l=tinyMCE.get(n).getContent()}else{l=jQuery("#"+o).val()}l=l.replace(/<[\/]{0,1}(p)[^><]*>/ig,"");f(".cc-message").html(l+'<a href="#" class="cc-link cookie-policy">'+k+"</a>")})}},1500);f(document).on("change","select[name=cmplz_static]",function(){d()});f(document).on("change","select[name=cmplz_position]",function(){d()});f(document).on("change","select[name=cmplz_theme]",function(){d()});f(document).on("keyup","#cmplz_custom_csseditor",function(){g()});f(document).on("click",".region-link",function(){ccConsentType=f(this).data("tab");e=ccConsentType;if(ccConsentType==="optinstats"){e="optin"}d()});f(document).on("change","input[name=cmplz_use_custom_cookie_css]",function(){g()});g();function g(){var h=f("input[name=cmplz_use_custom_cookie_css]").is(":checked");if(h){f('<style id="cmplz-cookie-inline-css">').prop("type","text/css").html(f('textarea[name="cmplz_custom_css"]').val()).appendTo("head")}else{f("#cmplz-cookie-inline-css").remove()}}f(document).on("change","input[name=cmplz_use_categories]",function(){d()});f(document).on("change","input[name=cmplz_use_categories_optinstats]",function(){d()});f(document).on("change","input[name=cmplz_hide_revoke]",function(){d()});f(document).on("change","input[name=cmplz_soft_cookiewall]",function(){d()});f(document).on("change","input[name=cmplz_use_tagmanager_categories]",function(){d()});a();function a(){f('#optinstats [data-condition-question="use_categories"]').data("condition-question","use_categories_optinstats");f.event.trigger({type:"cmplzRenderConditions"});if(f("#optin").length&&f("#optinstats").length){var h=f("input[name=cmplz_use_categories]").is(":checked");var j=f("input[name=cmplz_use_categories_optinstats]").is(":checked");if(h===j){f("#optinstats .field-group").each(function(){f(this).hide()})}}f('#optinstats [data-condition-question="show_always"]').show()}f(document).on("submit","#cookie-settings",function(j){var h=f("#cookie-settings :input");if(f("#optin").length&&f("#optinstats").length){h.each(function(){var k=f(this).attr("name");if(typeof k!=="undefined"&&k.indexOf("cmplz_")!==-1){if(f(this).closest("tr").is(":hidden")){console.log(k+" is hidden");f(this).remove()}}})}});d();function d(){var L;if(b){b.fadeOut();b.destroy()}if(ccConsentType==="optin"){var C=f("input[name=cmplz_use_categories]").is(":checked")}else{var C=f("input[name=cmplz_use_categories_optinstats]").is(":checked")}a();if(e==="optin"){L=f("input[name=cmplz_dismiss]").val()}else{L=f("input[name=cmplz_accept_informational]").val()}var K=f("input[name=cmplz_hide_revoke]").is(":checked");if(K){K="cc-hidden"}else{K=""}var x=f("textarea[name=cmplz_message_"+e+"]").val();var r=f("input[name=cmplz_accept]").val();if(f("input[name=cmplz_readmore_"+e+"_dnsmpi]").length){var E=f("input[name=cmplz_readmore_"+e+"_dnsmpi]").val()}else{var E=f("input[name=cmplz_readmore_"+e+"]").val()}var J=false;var B=f("input[name=cmplz_border_color]").val();var l=f("select[name=cmplz_position]").val();var y="opt-in";var s="";if(ccConsentType==="optout"){y="opt-out";C=false;if(f("input[name=cmplz_readmore_privacy]").length){s='<span class="cc-divider">&nbsp;-&nbsp;</span><a aria-label="learn more about privacy" tabindex="0" class="cc-link privacy-policy" href="#">'+f("input[name=cmplz_readmore_privacy]").val()+"</a>"}}var p=f("select[name=cmplz_theme]").val();var I="basic";var z=f("input[name=cmplz_popup_text_color]").val();var v=f("input[name=cmplz_button_background_color]").val();var q=f("input[name=cmplz_button_text_color]").val();var F=f("input[name=cmplz_save_preferences]").val();var t=f("input[name=cmplz_view_preferences]").val();var G=f("input[name=cmplz_category_stats]").val();var D=f("input[name=cmplz_revoke]").val();var w="";var j="";var h="";if(l==="bottom-left"){f(".cmplz-cookiebanner-save-button").css({textAlign:"right"})}else{f(".cmplz-cookiebanner-save-button").css({textAlign:"left"})}if(C){var o=f("textarea[name=cmplz_tagmanager_categories]").length;var m=f("textarea[name=cmplz_tagmanager_categories]").val();var u;if(!o){if(ccConsentType==="optin"){u=f("input[name=cmplz_cookie_warning_required_stats]").val()}else{if(ccConsentType==="optinstats"){u=true}}}j=f("input[name=cmplz_category_functional]").val();h=f("input[name=cmplz_category_all]").val();var k='<input type="checkbox" id="cmplz_all" style="display: none;"><label for="cmplz_all" class="cc-check"><svg width="16px" height="16px" viewBox="0 0 18 18"> <path d="M1,9 L1,3.5 C1,2 2,1 3.5,1 L14.5,1 C16,1 17,2 17,3.5 L17,14.5 C17,16 16,17 14.5,17 L3.5,17 C2,17 1,16 1,14.5 L1,9 Z"></path> <polyline points="1 9 7 14 15 4"></polyline></svg></label>';var n=k.replace("type","checked disabled type");n=n.replace(/cmplz_all/g,"cmplz_functional");w="<label>"+n+'<span class="cc-functional cc-category">{{categoryfunctional}}</span></label>';y="categories";I="categories-layout";D=t;if(u){w+="<label>"+k.replace(/cmplz_all/g,"cmplz_stats")+'<span class="cc-stats cc-category">'+G+"</span></label>"}if(o){var H=m.split(",");H.forEach(function(O,N){if(O.length>0){var M=k.replace(/cmplz_all/g,"cmplz_"+N);w+="<label>"+M+'<span class="cc-tm cc-category">'+O.trim()+"</span></label>"}});w+="<label>"+k+'<span class="cc-all cc-category">{{categoryall}}</span></label>'}else{w+="<label>"+k+'<span class="cc-all cc-category">{{categoryall}}</span></label>'}}if(l==="static"){J=true;l="top"}if(p==="edgeless"){B=false}var A;window.cookieconsent.initialise({cookie:{name:"complianz_config",expiryDays:1},revokeBtn:'<div class="cc-revoke '+K+' {{classes}}">'+D+"</div>",palette:{popup:{background:f("input[name=cmplz_popup_background_color]").val(),text:z},button:{background:v,text:q,border:B}},layout:I,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}"},elements:{"categories-checkboxes":w,save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" tabindex="0" class="cc-link cookie-policy" href="{{href}}" target="_blank">{{link}}</a>'+s+"</span>"},type:y,compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},theme:p,"static":J,position:l,content:{save_preferences:F,message:x,dismiss:L,deny:"",allow:r,link:E,href:"#",categoryfunctional:j,categoryall:h},onInitialise:function(M){A=M}},function(M){b=M;var N=f("input[name=cmplz_soft_cookiewall]").is(":checked");if(N){}b.open();if(f("#cmplz_functional").length){if(A==="allow"){f("#cmplz_all").prop("checked",true)}f("#cmplz_functional:checked + .cc-check svg").css({stroke:z});f("#cmplz_all:checked + .cc-check svg").css({stroke:z});for(i=0;i<5;i++){f("#cmplz_"+i+":checked + .cc-check svg").css({stroke:z})}f(".cc-save").css({"border-color":B,"background-color":v,color:q});f(".cc-check svg").css({stroke:z})}});f(document).on("click",".cc-save",function(){if(f("#cmplz_all").is(":checked")){b.setStatus(cookieconsent.status.allow)}else{b.setStatus(cookieconsent.status.dismiss)}b.close();f(".cc-revoke").fadeIn()});if(l==="top"){f(".cc-window").css({top:"30px"})}if(l==="static"){f(".cc-grower").css("z-index",10);f(".cc-grower").css("position","relative")}}function c(h){var k=window.location.search.substring(1);var l=k.split("&");for(var j=0;j<l.length;j++){var m=l[j].split("=");if(m[0]==h){return m[1]}}return false}});