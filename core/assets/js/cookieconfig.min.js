"use strict";jQuery(document).ready(function(t){var e,i,n=!1,c=!1,a="",s=[];function l(){if(n||r(),!c){g("dont_track_me","0",complianz.cookie_expiry),t(".cmplz-blocked-content-notice").each(function(){t(this).parent().css("background-image",""),t(this).remove()}),t(".cmplz-iframe").each(function(o,c){var e=t(this).data("src-cmplz");t(this).attr("src",e)}),t(".cmplz-script").each(function(o,c){var i=t(this).attr("src");if(i&&i.length)if(void 0!==t(this).data("post_scribe_id")){var e="#"+t(this).data("post_scribe_id");t(e).length&&(t(e).html(""),t(function(){postscribe(e,"<script src="+i+"><\/script>")}))}else t(this).attr("type","text/javascript"),t.getScript(i).done(function(o,c){for(var e in s)s.hasOwnProperty(e)&&-1!==i.indexOf(e)&&p(s[e])});else t(this).text().length&&(-1!==t(this).text().indexOf("grecaptcha")?s.recaptcha=t(this):p(t(this)))});var o=new CustomEvent("cmplzEnableScripts");document.dispatchEvent(o),c=!0}}function p(o){t("<script>").attr("type","text/javascript").text(o.text()).appendTo(o.parent()),o.remove()}function r(){console.log("fire stats"),t(".cmplz-stats").each(function(o,c){if(t(this).text().length){var e=t(this).text();t("<script>").attr("type","text/javascript").text(e).appendTo(t(this).parent()),t(this).remove()}n=!0});var o=new CustomEvent("cmplzEnableStats");document.dispatchEvent(o)}function m(o){console.log("fire "+o),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:o})}var _=[];function u(){var o;complianz=function(o,c){for(var e=1;e<c.length;e++){var i=c;for(var t in i)i.hasOwnProperty(t)&&(o[t]=i[t])}return o}(complianz,_),b(),(o=h("complianz_policy_id"))&&complianz.current_policy_id!=o&&g("complianz_consent_status","",0),"set"!==h("cmplz_choice")&&(_.do_not_track||"eu"!==_.region&&"us"!==_.region?f("no-warning"):"us"===_.region?f("all"):f("no-choice")),_.do_not_track||("eu"===_.region?(complianz.dismiss_on_scroll=!1,complianz.dismiss_on_timeout=!1,console.log(complianz.dismiss_on_timeout),console.log("eu, opt-in"),z()):"us"===_.region?(console.log("us, opt-out"),complianz.type="opt-out",complianz.layout="basic",complianz.readmore_url=complianz.readmore_url_us,complianz.readmore=complianz.readmore_us,complianz.dismiss=complianz.accept_informational,a=complianz.privacy_link,z()):(console.log("other region, no cookie warning"),d()))}function z(){complianz.use_custom_cookie_css&&t("<style>").prop("type","text/css").html(complianz.custom_css).appendTo("head"),window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry},onInitialise:function(o){"allow"===(e=o)&&d()},onStatusChange:function(o,c){!complianz.dismiss_on_scroll&&!complianz.dismiss_on_timeout||"dismiss"!==o&&"allow"!==o||(g("complianz_consent_status","allow",complianz.cookie_expiry),i.close(),t(".cc-revoke").fadeIn()),e=o,complianz.use_categories||f(),"allow"===o&&d(),"deny"===o&&"us"===_.region&&(S(),f())},onRevokeChoice:function(){complianz.use_categories||"allow"!==e||(S(),f())},dismissOnTimeout:parseInt(complianz.dismiss_on_timeout),dismissOnScroll:parseInt(complianz.dismiss_on_scroll),dismissOnWindowClick:!0,revokeBtn:'<div class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</div>",palette:{popup:{background:complianz.popup_background_color,text:complianz.popup_text_color},button:{background:complianz.button_background_color,text:complianz.button_text_color,border:complianz.border_color}},theme:complianz.theme,static:complianz.static,position:complianz.position,type:complianz.type,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}",compliance:"{{messagelink}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',"categories-checkboxes":complianz.categories,messagelink:'<span id="cookieconsent:desc" class="cc-message">{{message}} <a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="{{href}}">{{link}}</a>'+a+"</span>"},content:{save_preferences:complianz.save_preferences,deny:"",message:complianz.message,dismiss:complianz.dismiss,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url}},function(o){if(i=o,"us"!==_.region&&complianz.use_categories){if(x(),complianz.tm_categories)for(var c=0;c<complianz.cat_num;c++)t("#cmplz_"+c+":checked + .cc-check svg").css({stroke:complianz.popup_text_color});t("#cmplz_functional:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),t("#cmplz_all:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),t(".cc-save").css({"border-color":complianz.border_color,"background-color":complianz.button_background_color,color:complianz.button_text_color}),t(".cc-check svg").css({stroke:complianz.popup_text_color}),y()}"us"===_.region&&"deny"!==h("complianz_consent_status")&&d()})}function d(){w(),complianz.use_categories?y(!0):(complianz_enable_cookies(),l())}function o(){if(i.setStatus("dismiss"),complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)t("#cmplz_"+o).is(":checked")?g("cmplz_event_"+o,"allow",complianz.cookie_expiry):g("cmplz_event_"+o,"deny",complianz.cookie_expiry);t("#cmplz_stats").length&&(t("#cmplz_stats").is(":checked")?g("cmplz_stats","allow",complianz.cookie_expiry):g("cmplz_stats","deny",complianz.cookie_expiry)),t("#cmplz_all").length&&(t("#cmplz_all").is(":checked")?g("cmplz_all","allow",complianz.cookie_expiry):g("cmplz_all","deny",complianz.cookie_expiry)),y(),f(),"no-choice"===v()||"functional"===v()?S():w(),i.close(),t(".cc-revoke").fadeIn()}function f(o){o=void 0!==o&&o,g("cmplz_choice","set",complianz.cookie_expiry),o||(o=v()),t.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_track_status",status:o,region:_.region}})}function k(){if(t(".cc-revoke-custom").length&&"us"===_.region){var o=t("#cmplz-document").find(".cmplz-status-accepted"),c=t("#cmplz-document").find(".cmplz-status-denied");"deny"===h("complianz_consent_status")?(o.hide(),c.show()):(o.show(),c.hide())}}function g(o,c,e){var i="",t=";secure";if(e){var n=new Date;n.setTime(n.getTime()+24*e*60*60*1e3);i=";expires="+n.toGMTString()}"https:"!==window.location.protocol&&(t=""),document.cookie=o+"="+c+t+i+";path=/"}function h(o){for(var c=o+"=",e=window.document.cookie.split(";"),i=0;i<e.length;i++){var t=e[i].trim();if(0==t.indexOf(c))return t.substring(c.length,t.length)}return""}function v(){var o=h("complianz_consent_status");if(complianz.use_categories){if("allow"===h("cmplz_all"))return"all";if(complianz.tm_categories)for(var c=complianz.cat_num-1;0<=c;c--)if("allow"===h("cmplz_event_"+c))return"cmplz_event_"+c;if("allow"===h("cmplz_stats"))return"stats"}else if("allow"===o||"dismiss"===o&&"us"===_.region)return"all";return"dismiss"===o?"functional":"no-choice"}function y(o){if(o=void 0!==o&&o,complianz.tm_categories&&m("cmplz_event_functional"),complianz.tm_categories)for(var c=0;c<complianz.cat_num;c++)(o||t("#cmplz_"+c).is(":checked"))&&m("cmplz_event_"+c);(o||t("#cmplz_stats").length&&t("#cmplz_stats").is(":checked"))&&r(),(o||t("#cmplz_all").length&&t("#cmplz_all").is(":checked"))&&(complianz.tm_categories&&m("cmplz_event_all"),complianz_enable_cookies(),l())}function x(){if(complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)"allow"===h("cmplz_event_"+o)&&t("#cmplz_"+o).prop("checked",!0);"allow"===h("cmplz_all")&&t("#cmplz_all").prop("checked",!0),"allow"===h("cmplz_stats")&&t("#cmplz_stats").prop("checked",!0)}function w(){g("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}function b(){g("dont_track_me","1",complianz.cookie_expiry)}function S(){document.cookie.split(";").forEach(function(o){-1===o.indexOf("cmplz_stats")&&-1===o.indexOf("cmplz_")&&-1===o.indexOf("complianz_consent_status")&&-1===o.indexOf("complianz_policy_id")&&(document.cookie=o.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))}),b()}"undefined"!=typeof Storage&&sessionStorage.cmplz_user_data&&(_=JSON.parse(sessionStorage.cmplz_user_data)),0===_.length||_.version!==complianz.version?t.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_user_settings"},success:function(o){_=o,sessionStorage.cmplz_user_data=JSON.stringify(_),u()}}):u(),t(document).on("click",".cc-save",function(){o()}),t(document).on("click",".cc-revoke-custom",function(){"eu"===_.region?t(".cc-revoke").click():("deny"===h("complianz_consent_status")?t(".cc-revoke").click():(g("complianz_consent_status","deny",complianz.cookie_expiry),i.close(),t(".cc-revoke").fadeIn()),k())}),t(document).on("click",".cmplz-accept-cookies",function(){complianz.use_categories?(g("cmplz_all","allow",complianz.cookie_expiry),x(),o()):(i.setStatus(cookieconsent.status.allow),d(),i.close(),t(".cc-revoke").fadeIn())}),k()});