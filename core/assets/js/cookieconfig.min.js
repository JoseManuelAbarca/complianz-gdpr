"use strict";function complianz_deleteAllCookies(){console.log("clearing all cookies on own domain"),document.cookie.split(";").forEach(function(o){-1===o.indexOf("cmplz_stats")&&-1===o.indexOf("cmplz_")&&-1===o.indexOf("complianz_consent_status")&&-1===o.indexOf("complianz_policy_id")&&(document.cookie=o.replace(/^ +/,"").replace(/=.*/,"=;expires="+(new Date).toUTCString()+";path=/"))})}jQuery(document).ready(function(t){var c,n,e,i,a=!1;function l(){a||s(),t(".cmplz-iframe").each(function(o,e){var c=t(this).data("src-cmplz");t(this).attr("src",c)}),t(".cmplz-script").each(function(o,e){var c=t(this).attr("src");c&&c.length?(t(this).attr("type","text/javascript"),t.getScript(c,function(){})):t(this).text().length&&(t("<script>").attr("type","text/javascript").text(t(this).text()).appendTo(t(this).parent()),t(this).remove())})}function s(){t(".cmplz-stats").each(function(o,e){if(t(this).text().length){var c=t(this).text();t("<script>").attr("type","text/javascript").text(c).appendTo(t(this).parent()),t(this).remove()}a=!0})}function p(o){console.log("fire "+o),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:o})}var r=[];function m(){var o;complianz=function(o){for(var e=1;e<arguments.length;e++){var c=arguments[e];for(var t in c)c.hasOwnProperty(t)&&(o[t]=c[t])}return o}(complianz,r),(o=d("complianz_policy_id"))&&complianz.current_policy_id!=o&&(console.log("reset cookie consent, policy changed"),u("complianz_consent_status","",0)),e=complianz.type,i=complianz.dismiss,r.do_not_track||"eu"!==r.region?z("no-warning"):"set"!==d("cmplz_choice")&&z("no-choice"),r.do_not_track||("eu"===r.region?(console.log("eu"),_()):("us"===r.region?(console.log("us, informational warning"),e="info",i=complianz.accept_informational,_()):console.log("other region, no cookie warning"),complianz_enable_cookies(),l()))}function _(){complianz.use_custom_cookie_css&&t("<style>").prop("type","text/css").html(complianz.custom_css).appendTo("head"),window.cookieconsent.initialise({cookie:{name:"complianz_consent_status",expiryDays:complianz.cookie_expiry},onInitialise:function(o){"allow"===(c=o)&&this.hasConsented()&&(complianz_enable_cookies(),l())},onStatusChange:function(o,e){c=o,h()||z(),"allow"===o&&(g(),complianz_enable_cookies(),l())},onRevokeChoice:function(){h()||"allow"!==c||(complianz_deleteAllCookies(),z())},revokeBtn:'<div class="cc-revoke '+complianz.hide_revoke+' {{classes}}">'+complianz.revoke+"</div>",palette:{popup:{background:complianz.popup_background_color,text:complianz.popup_text_color},button:{background:complianz.button_background_color,text:complianz.button_text_color,border:complianz.border_color}},theme:complianz.theme,static:complianz.static,position:complianz.position,type:e,layout:complianz.layout,layouts:{"categories-layout":"{{messagelink}}{{categories-checkboxes}}{{compliance}}"},compliance:{categories:'<div class="cc-compliance cc-highlight">{{save}}</div>'},elements:{save:'<a aria-label="save cookies" tabindex="0" class="cc-btn cc-save">{{save_preferences}}</a>',"categories-checkboxes":complianz.categories,link:'<a aria-label="learn more about cookies" tabindex="0" class="cc-link" href="{{href}}">{{link}}</a>'},content:{save_preferences:complianz.save_preferences,message:complianz.message,dismiss:i,allow:complianz.accept,link:complianz.readmore,href:complianz.readmore_url}},function(o){if(n=o,h()){if(function(){if(complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)"allow"===d("cmplz_event_"+o)&&t("#cmplz_"+o).prop("checked",!0);"allow"===d("cmplz_all")&&t("#cmplz_all").prop("checked",!0);"allow"===d("cmplz_stats")&&t("#cmplz_stats").prop("checked",!0)}(),complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)t("#cmplz_"+e+":checked + .cc-check svg").css({stroke:complianz.popup_text_color});t("#cmplz_functional:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),t("#cmplz_all:checked + .cc-check svg").css({stroke:complianz.popup_text_color}),t(".cc-save").css({"border-color":complianz.border_color,"background-color":complianz.button_background_color,color:complianz.button_text_color}),t(".cc-check svg").css({stroke:complianz.popup_text_color}),k()}})}function z(o){o=void 0!==o&&o,u("cmplz_choice","set",complianz.cookie_expiry),o||(o=f()),t.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_track_status",status:o}})}function u(o,e,c){if(c){var t=new Date;t.setTime(t.getTime()+24*c*60*60*1e3);var n="; expires="+t.toGMTString()}else n="";document.cookie=o+"="+e+n+"; path=/"}function d(o){for(var e=o+"=",c=window.document.cookie.split(";"),t=0;t<c.length;t++){var n=c[t].trim();if(0==n.indexOf(e))return n.substring(e.length,n.length)}return""}function f(){var o=d("complianz_consent_status");if(h()){if("allow"===d("cmplz_all"))return"all";if(complianz.tm_categories)for(var e=complianz.cat_num-1;0<=e;e--)if("allow"===d("cmplz_event_"+e))return"cmplz_event_"+e;if("allow"===d("cmplz_stats"))return"stats"}else if("allow"===o)return"all";return"dismiss"===o?"functional":"no-choice"}function k(o){if(o=void 0!==o&&o,complianz.tm_categories&&p("cmplz_event_functional"),complianz.tm_categories)for(var e=0;e<complianz.cat_num;e++)(o||t("#cmplz_"+e).is(":checked"))&&p("cmplz_event_"+e);t("#cmplz_stats").length&&(o||t("#cmplz_stats").is(":checked"))&&s(),t("#cmplz_all").length&&(o||t("#cmplz_all").is(":checked"))&&(complianz.tm_categories&&p("cmplz_event_all"),complianz_enable_cookies(),l())}function h(){return 0!==t("#cmplz_functional").length}function g(){u("complianz_policy_id",complianz.current_policy_id,complianz.cookie_expiry)}"undefined"!=typeof Storage&&sessionStorage.cmplz_user_data&&(r=JSON.parse(sessionStorage.cmplz_user_data)),0===r.length||void 0===r.region?t.ajax({type:"GET",url:complianz.url,dataType:"json",data:{action:"cmplz_user_settings"},success:function(o){r=o,sessionStorage.cmplz_user_data=JSON.stringify(r),m()}}):m(),t(document).on("click",".cc-save",function(){n.setStatus(cookieconsent.status.dismiss),h()&&(!function(){if(complianz.tm_categories)for(var o=0;o<complianz.cat_num;o++)t("#cmplz_"+o).is(":checked")?u("cmplz_event_"+o,"allow",complianz.cookie_expiry):u("cmplz_event_"+o,"deny",complianz.cookie_expiry);t("#cmplz_stats").length&&(t("#cmplz_stats").is(":checked")?u("cmplz_stats","allow",complianz.cookie_expiry):u("cmplz_stats","deny",complianz.cookie_expiry));t("#cmplz_all").length&&(t("#cmplz_all").is(":checked")?u("cmplz_all","allow",complianz.cookie_expiry):u("cmplz_all","deny",complianz.cookie_expiry))}(),k()),z(),"no-choice"===f()||"functional"===f()?complianz_deleteAllCookies():g(),n.close(),t(".cc-revoke").fadeIn()}),t(document).on("click",".cc-revoke-custom",function(){t(".cc-revoke").click()})});