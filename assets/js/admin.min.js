jQuery(document).ready(function(o){"use strict";o("#cmplz-support-form.hidden").hide().removeClass("hidden"),o(document).on("click","#cmplz-support-link",function(e){e.preventDefault();var t=o("#cmplz-support-form");t.is(":visible")?t.slideUp():t.slideDown()});var e=o(".cmplz-validate-multicheckbox .is-required:checkbox");function t(){e.is(":checked")?(e.prop("required",!1),e.removeClass("is-required")):(e.prop("required",!0),e.addClass("is-required")),i()}function i(){var s,a=!0;o(".condition-check").each(function(e){var t="cmplz_"+o(this).data("condition-question");if(null!=t){var i=o(this).data("condition-answer"),c=o(this).find("input[type=checkbox]");c.length||(c=o(this).find("input")),c.length||(c=o(this).find("textarea")),c.length||(c=o(this).find("select")),c.length&&c[0].hasAttribute("required")&&c.addClass("is-required"),-1!=(i+="").indexOf("NOT ")?(i=i.replace("NOT ",""),a=!1):a=!0,s=function(e){{if("text"==o("input[name^="+e+"]").attr("type"))return o("input[name^="+e+"]").val();var t=[];return o("input[name^="+e+"]:checked").each(function(){t[t.length]=o(this).val()}),t}}(t);var n=!1;o("select[name="+t+"]").length&&(s=Array(o("select[name="+t+"]").val())),o("input[name='"+t+"["+i+"]']").length&&o("input[name='"+t+"["+i+"]']").is(":checked")&&(n=!0,s=[]),a?n||-1!=s.indexOf(i)||s==i?(o(this).removeClass("hidden"),c.hasClass("is-required")&&c.prop("required",!0)):(o(this).addClass("hidden"),c.hasClass("is-required")&&c.prop("required",!1)):s!=i?(o(this).removeClass("hidden"),c.hasClass("is-required")&&c.prop("required",!0)):(o(this).addClass("hidden"),c.hasClass("is-required")&&c.prop("required",!1))}})}t(),e.change(t),i(),o("input").change(function(e){i()}),o("select").change(function(e){i()}),o("textarea").change(function(e){i()});var n=1e3,s=complianz_admin.progress,a=o(".cmplz-progress-bar"),r=o(".detected-cookies");o("#cmplz_cookie_scan_frame").length&&function c(){var e=document.getElementById("cmplz_cookie_scan_frame");e.contentDocument||e.contentWindow.document;!r.find(".cmplz-loader").length&&s<100&&(r.html('<div class="cmplz-loader"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),r.addClass("loader")),e.onload=function(){100<=s||o.get(complianz_admin.admin_url,{action:"cmplz_get_scan_progress"},function(e){var t;if(e){t=jQuery.parseJSON(e),s=parseInt(t.progress);var i=t.next_page;100<=s?(s=100,a.css({width:s+"%"}),o.ajax({type:"GET",url:complianz_admin.admin_url,dataType:"json",data:{action:"load_detected_cookies"},success:function(e){e.success&&(o(".detected-cookies").html(e.cookies),o(".detected-cookies.loader").removeClass("loader"))}})):(a.css({width:s+"%"}),console.log("loading "+i),o("#cmplz_cookie_scan_frame").attr("src",i),window.setTimeout(c,n))}})},window.setTimeout(c,n)}(),a.css({width:s+"%"}),o(document).on("click",".cmplz-add-to-policy",function(){var e=o(this).closest(".cmplz-custom-privacy-text-container").find(".cmplz-custom-privacy-header").html(),t=o(this).closest(".cmplz-custom-privacy-text-container").find(".cmplz-custom-privacy-text").html();!function(e,t,i){void 0===t&&(t=wpActiveEditor);void 0===i&&(i=t);jQuery("#wp-"+t+"-wrap").hasClass("tmce-active")&&tinyMCE.get(t)?tinyMCE.get(t).setContent(e):jQuery("#"+i).val(e)}(function(e,t){void 0===e&&(e=wpActiveEditor);void 0===t&&(t=e);return jQuery("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():jQuery("#"+t).val()}("cmplz_custom_privacy_policy_text")+"<h3>"+e+"</h3>"+t,"cmplz_custom_privacy_policy_text")}),window.setTimeout(function(){o(".cmplz-notice.cmplz-success").fadeTo(500,0).slideUp(500,function(){o(this).remove()})},2e3)});